

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>mlqa.identifiers &#8212; mlqa 0.1.0 documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="mlqa.checkers" href="checkers.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../index.html">
      <img src="../_static/mlqa.png" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="introduction.html">Introduction</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="quickstart.html">Quickstart</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="checkers.html">mlqa.checkers</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="">mlqa.identifiers</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/ddaskan/mlqa/" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/_DoganAskan" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
        
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/ddaskan/mlqa/edit/master/docs_source/source/identifiers.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="module-identifiers">
<span id="mlqa-identifiers"></span><h1>mlqa.identifiers<a class="headerlink" href="#module-identifiers" title="Permalink to this headline">¶</a></h1>
<p>This module is for DiffChecker class.</p>
<dl class="py class">
<dt id="identifiers.DiffChecker">
<em class="property">class </em><code class="sig-prename descclassname">identifiers.</code><code class="sig-name descname">DiffChecker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qa_level</span><span class="o">=</span><span class="default_value">'loose'</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qa_log_level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log_info</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L14-L362"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Integrated QA performer on pd.DataFrame with logging functionality.</p>
<p>It only works in numerical columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qa_level</strong> (<em>str</em>) – quick set for QA level, can be one of [‘loose’, ‘mid’, ‘strict’]</p></li>
<li><p><strong>logger</strong> (<em>str</em><em> or </em><em>logging.Logger</em>) – ‘print’ for print only, every other
str creates a file for logging. using external logging.Logger object
is highly recommended, i.e. logger=&lt;mylogger&gt;.</p></li>
<li><p><strong>qa_log_level</strong> (<em>int</em>) – qa message logging level</p></li>
<li><p><strong>log_info</strong> (<em>bool</em>) – <cite>True</cite> if method calls or arguments also need to be
logged</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Basic usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;mean_col&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;na_col&#39;</span><span class="p">:[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;mean_col&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;na_col&#39;</span><span class="p">:[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="mi">70</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">30</span><span class="p">}))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;mean_col&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;na_col&#39;</span><span class="p">:[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="mi">70</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">30</span><span class="p">}))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Quick set for <cite>qa_level</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">threshold</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">(</span><span class="n">qa_level</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">threshold</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">(</span><span class="n">qa_level</span><span class="o">=</span><span class="s1">&#39;strict&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">threshold</span>
<span class="go">0.1</span>
</pre></div>
</div>
<p>Logger can also be initiated:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="s1">&#39;mylog.log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;mean_col&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;na_col&#39;</span><span class="p">:[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;mean_col&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;na_col&#39;</span><span class="p">:[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="mi">70</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">30</span><span class="p">}))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;mylog.log&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="identifiers.DiffChecker.stats">
<code class="sig-name descname">stats</code><em class="property"> = []</em><a class="headerlink" href="#identifiers.DiffChecker.stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="identifiers.DiffChecker.threshold">
<code class="sig-name descname">threshold</code><em class="property"> = 0.0</em><a class="headerlink" href="#identifiers.DiffChecker.threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="identifiers.DiffChecker.threshold_df">
<code class="sig-name descname">threshold_df</code><em class="property"> = Empty DataFrame Columns: [] Index: []</em><a class="headerlink" href="#identifiers.DiffChecker.threshold_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="identifiers.DiffChecker.df_fit_stats">
<code class="sig-name descname">df_fit_stats</code><em class="property"> = Empty DataFrame Columns: [] Index: []</em><a class="headerlink" href="#identifiers.DiffChecker.df_fit_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker.set_stats">
<code class="sig-name descname">set_stats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">funcs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L120-L137"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker.set_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets statistic functions list to check by.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>funcs</strong> (<em>list</em>) – list of functions and/or function names,
e.g. [np.sum, ‘mean’]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="#identifiers.DiffChecker.add_stat">add_stat</a>: just to add one</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker.add_stat">
<code class="sig-name descname">add_stat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L139-L157"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker.add_stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a statistic function into the existing list (i.e. <a class="reference external" href="#identifiers.DiffChecker.stats">stats</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>func</em>) – function name (e.g. np.sum or ‘mean’)</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="#identifiers.DiffChecker.set_stats">set_stats</a>: to reset all</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker.set_threshold">
<code class="sig-name descname">set_threshold</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L159-L210"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker.set_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets threshold for statistic-column pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>threshold</strong> (<em>float</em><em> or </em><em>dict</em>) – can be used to set for all or column
statistic pairs.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_stats</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1"># to reset all thresholds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dc</span><span class="o">.</span><span class="n">threshold</span><span class="p">)</span>
<span class="go">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:</span><span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">})</span> <span class="c1"># to set in column level</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dc</span><span class="o">.</span><span class="n">threshold_df</span><span class="p">)</span>
<span class="go">      col1  col2</span>
<span class="go">mean   0.2   0.1</span>
<span class="go">max    0.2   0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:{</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">}})</span> <span class="c1"># to set in column-stat level</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dc</span><span class="o">.</span><span class="n">threshold_df</span><span class="p">)</span>
<span class="go">      col1  col2</span>
<span class="go">mean   0.1   0.1</span>
<span class="go">max    0.2   0.1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L212-L249"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits given <cite>df</cite>.</p>
<p>Based on given <cite>df</cite> and <a class="reference external" href="#identifiers.DiffChecker.stats">stats</a> attribute, this method constructs
<a class="reference external" href="#identifiers.DiffChecker.df_fit_stats">df_fit_stats</a> attribute to store column statistics. This is later to
be used by <a class="reference external" href="#identifiers.DiffChecker.check">check</a> method. Only works
in numerical columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – data to be fit</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_stats</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dc</span><span class="o">.</span><span class="n">df_fit_stats</span><span class="p">)</span>
<span class="go">      col1  col2</span>
<span class="go">mean   2.5   0.0</span>
<span class="go">max    4.0   0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_to_check</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columns_to_exclude</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L251-L319"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks given <cite>df_to_check</cite> based on fitted <cite>df</cite> stats.</p>
<p>For each column stat pairs, it checks if stat is in given threshold by
utilizing <a class="reference external" href="checkers.html#checkers.qa_array_statistics">qa_array_statistics</a>.
If any stat qa fails, returns <cite>False</cite>, <cite>True otherwise</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_to_check</strong> (<em>pd.DataFrame</em>) – data to check</p></li>
<li><p><strong>columns</strong> (<em>None</em><em> or </em><em>list</em>) – if given, only these columns will be
considered for qa</p></li>
<li><p><strong>columns_to_exclude</strong> (<em>None</em><em> or </em><em>list</em>) – columns to exclude from qa</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>is QA passed or not</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">set_stats</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">}))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">],</span> <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mf">1.1</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">}))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker.to_pickle">
<code class="sig-name descname">to_pickle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="o">=</span><span class="default_value">'DiffChecker.pkl'</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L321-L347"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker.to_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Pickle (serialize) object to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – file path where the pickled object will be stored</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>To save a <cite>*.pkl</cite> file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dc1</span> <span class="o">=</span> <span class="n">DiffChecker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc1</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc1</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;DiffChecker.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To load the same object later:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pkl_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;DiffChecker.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">pkl_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pkl_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;DiffChecker.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="identifiers.DiffChecker._method_init_logger">
<code class="sig-name descname">_method_init_logger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">exclude</span><span class="o">=</span><span class="default_value">['self']</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/ddaskan/mlqa/blob/master/mlqa/identifiers.py#L349-L362"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#identifiers.DiffChecker._method_init_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs method initiation with given arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>dict</em>) – local arguments, i.e. <cite>locals()</cite></p></li>
<li><p><strong>exclude</strong> (<em>list</em>) – arguments to exclude, e.g. <cite>self</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="checkers.html" title="previous page">mlqa.checkers</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020, Dogan Askan.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>